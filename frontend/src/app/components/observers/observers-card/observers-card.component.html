<div class="check-tile" [ngClass]="{'selected': observer.isSelected}" (click)="toggleSelectedState()">
  <div class="content">
    <div class="check-icon-container">
      <i class="fa fa-check check-icon"></i>
    </div>

    <div class="card-header">
      <div class="card-header-contents">
        <span class="observe-name">{{observer.name}}</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-row">
        <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
        <div class="phone-number">{{observer.phone}}</div>
      </div>
    </div>
    <div class="card-footer">
      <div>
        <div class="card-footer-header">
          Last login
        </div>
        <div class="card-footer-details">
          {{observer.lastSeen | date:'shortTime'}}
        </div>
      </div>
      <div *ngIf="enableEdit">
        <div class="btn-group dropup pull-right">
          <button type="button" class="btn btn-default" [routerLink]="['profil/edit/', observer.phone]">Edit</button>
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
            <span class="caret"></span>
            <span class="sr-only">Toggle Dropdown</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-right">
            <li class="cursor-pointer"><a (click)="deleteObserver()">Delete</a></li>
            <li class="cursor-pointer"><a (click)="openResetPasswordModal(template)">{{'RESET_PASSWORD'| translate}}</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #template>
  <div class="modal-header" data-backdrop="static">
    <h4 class="modal-title pull-left">{{'ENTER_NEW_PASSWORD' | translate}} {{observer.name}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <input type="text" name="password" placeholder="pin" [(ngModel)]="newPassword" #pin="ngModel" maxlength="4"
      minlength="4">
    <p>&nbsp;</p>
    <button type="button" class="btn btn-primary" (click)="resetPassword()"
      [disabled]="!isPasswordValid()">{{'RESET_PASSWORD'| translate}}</button>
  </div>
</ng-template>
