<div class="panel panel-default">
  <div class="card-header">
    <div class="card-header-contents">
      <span class="observe-name">
        {{observer.name}}
      </span>
      <button [ngClass]="{'selected': observer.isSelected}" (click)="toggleSelectedState()">
         <i class="fa fa-check"></i>
      </button>
    </div>
  </div>
 <div class="card-content">
   <div class="card-row">
      <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
     <div class="phone-number">
        {{observer.phone}}
     </div>
   </div>
 </div>
 <div class="card-footer">
   <div>
      <div class="card-footer-header">
          Last login
        </div>
        <div class="card-footer-details">
         {{observer.lastSeen}}
        </div>
   </div>
   <div>
      <div class="btn-group">
          <button type="button" class="btn btn-default" [routerLink]="['profil/edit/', observer.phone]">Edit</button>
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="caret"></span>
            <span class="sr-only">Toggle Dropdown</span>
          </button>
          <ul class="dropdown-menu">
            <li class="cursor-pointer"><a (click)="deleteObserver()">Delete</a></li>
            <li class="cursor-pointer"><a (click)="openResetPasswordModal(template)">{{'RESET_PASSWORD'| translate}}</a></li>
          </ul>
        </div>
   </div>
 </div>
</div>

<ng-template #template>
  <div class="modal-header" data-backdrop="static">
    <h4 class="modal-title pull-left">{{'ENTER_NEW_PASSWORD' | translate}} {{observer.name}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <input type="text" name="password" placeholder="pin" [(ngModel)]="newPassword" #pin="ngModel" maxlength="4" minlength="4">
    <p>&nbsp;</p>
    <button type="button" class="btn btn-primary" (click)="resetPassword()" [disabled]="!isPasswordValid()">{{'RESET_PASSWORD'| translate}}</button>
  </div>
</ng-template>
